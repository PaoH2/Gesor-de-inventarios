<div class="form-container">
<app-navbar></app-navbar>
  <!-- Botón para regresar a la página anterior -->
  <button type="button" class="btn-back" (click)="goBack()" title="Regresar a la página anterior">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-arrow-left-circle-fill" viewBox="0 0 16 16">
      <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0m3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"/>
    </svg>
    <span>Regresar</span>
  </button>

  <!-- Título del formulario -->
  <h3 class="form-title">Crear Nuevo Producto</h3>

  <!-- Contenedores para mostrar mensajes de éxito o error al usuario -->
  <div *ngIf="mensajeExito" class="alert alert-success mt-3">
    {{ mensajeExito }}
  </div>
  <div *ngIf="mensajeError" class="alert alert-danger mt-3">
    {{ mensajeError }}
  </div>

  <!-- Formulario reactivo de Angular -->
  <form [formGroup]="productoForm" (ngSubmit)="onSubmit()" class="mt-4">

    <!-- Campo SKU -->
    <div class="mb-3">
      <label for="sku" class="form-label">SKU (Código Único)</label>
      <input type="text" id="sku" formControlName="SKU" class="form-control" [ngClass]="{ 'is-invalid': productoForm.get('SKU')?.invalid && productoForm.get('SKU')?.touched }">
      <div *ngIf="productoForm.get('SKU')?.invalid && productoForm.get('SKU')?.touched" class="invalid-feedback">
        El SKU es obligatorio.
      </div>
    </div>

    <!-- Campo Nombre del Producto -->
    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre del Producto</label>
      <input type="text" id="nombre" formControlName="Nombre_Producto" class="form-control" [ngClass]="{ 'is-invalid': productoForm.get('Nombre_Producto')?.invalid && productoForm.get('Nombre_Producto')?.touched }">
      <div *ngIf="productoForm.get('Nombre_Producto')?.invalid && productoForm.get('Nombre_Producto')?.touched" class="invalid-feedback">
        El nombre del producto es obligatorio.
      </div>
    </div>

    <!-- Campo Descripción (Opcional) -->
    <div class="mb-3">
      <label for="descripcion" class="form-label">Descripción (Opcional)</label>
      <textarea id="descripcion" formControlName="Descripcion" class="form-control" rows="3"></textarea>
    </div>

    <!-- Campo Costo -->
    <div class="mb-3">
      <label for="costo" class="form-label">Costo</label>
      <input type="number" id="costo" formControlName="Costo" class="form-control" [ngClass]="{ 'is-invalid': productoForm.get('Costo')?.invalid && productoForm.get('Costo')?.touched }">
      <div *ngIf="productoForm.get('Costo')?.invalid && productoForm.get('Costo')?.touched" class="invalid-feedback">
        <div *ngIf="productoForm.get('Costo')?.errors?.['required']">El costo es obligatorio.</div>
        <div *ngIf="productoForm.get('Costo')?.errors?.['min']">El costo no puede ser negativo.</div>
      </div>
    </div>

    <!-- Botón de Envío -->
    <div class="btn-submit-container">
        <button type="submit" class="btn btn-primary" [disabled]="productoForm.invalid">Guardar Producto</button>
    </div>
  </form>
</div>
